linux-ec2 (2.6.32-301.2) UNRELEASED; urgency=low

  CHANGELOG: Do not edit directly. Autogenerated at release.
  CHANGELOG: Use the printchanges target to see the curent changes.
  CHANGELOG: Use the insertchanges target to create the final log.

  [ Ubuntu: 2.6.32-7.10 ]

  * [Config] disable CONFIG_THUMB2_KERNEL to fix arm FTBFS

  [ Ubuntu: 2.6.32-7.9 ]

  * SAUCE: set /proc/acpi/video/*/DOS to 4 by default
    - LP: #458982
  * SAUCE: ensure vga16fb loads if no other driver claims the VGA device
  * [Config] update configs following versatile switch to V7
  * rebased to v2.6.32
  * [Config] update configs following rebase to v2.6.32
  * [Config] update ports configs following rebase to v2.6.32
  * SAUCE: vfs: Add a trace point in the mark_inode_dirty function
  * [SCSI] megaraid_sas: remove sysfs poll_mode_io world writeable
    permissions
    - CVE-2009-3939
  * SAUCE: select a v7 CPU for versatile
  * SAUCE: ALSA: hda - Add power on/off counter
  * rebased to v2.6.32

  [ Ubuntu: 2.6.32-6.8 ]

  * [Config] disable SSB devices for armel

  [ Ubuntu: 2.6.32-6.7 ]

  * Revert "SAUCE: default ATI Radeon KMS to off until userspace catches up"
  * Revert "SAUCE: Dell XPS710 reboot quirk"
  * Revert "SAUCE: Link acpi-cpufreq.o first"
  * Revert "SAUCE: LPIA  Logical reset of USB port on resume"
  * Revert "SAUCE: LPIA Reboot fix for Intel Crownbeach development boards"
  * Revert "SAUCE: Enable HDMI audio codec on Studio XPS 1340"
  * Revert "SAUCE: Dell laptop digital mic does not work, PCI 1028:0271"
  * Revert "Add Dell Dimension 9200 reboot quirk"
  * Revert "SAUCE: Correctly blacklist Thinkpad r40e in ACPI"
  * Revert "SAUCE: tulip: Define ULI PCI ID's"
  * Revert "SAUCE: Lower warning level of some PCI messages"
  * Revert "mac80211: fix two issues in debugfs"
    Drop a number of known redundant commits as identified in the Ubuntu
    delta review blueprint.
  * reenable armel versatile flavour
  * [Config] disable CONFIG_USB_DEVICEFS
  * [Config] udeb: Add squashfs to fs-core-modules
    - LP: #352615
  * [Config] Create a real squashfs udeb
    - LP: #352615

 -- Andy Whitcroft <apw@canonical.com>  Thu, 03 Dec 2009 14:11:34 +0000

linux-ec2 (2.6.32-300.1) lucid; urgency=low

  [ Andy Whitcroft ]

  * SAUCE: fix nx-emulation when disabled by XEN
  * SAUCE: fix disable of KERNEL_IMAGE_SIZE for i386 XEN builds

  [ John Johansen ]

  * Fix recursive include
  * SAUCE: Fix build ASSERT for 3.0.2 compatibility
  * SAUCE: ec2: Default domU console to tty.
    - LP: #431103
  * [Config] Setup EC2 commit
  * update configs for 2.6.32
  * rebase to Ubuntu-2.6.32-5.6

  [ Ubuntu: 2.6.32-5.6 ]

  * rebase to v2.6.32-rc8
  * update configs following rebase to v2.6.32-rc8
  * update ports configs since rebase to v2.6.32-rc8
  * [Config] enable cgroup options
    - LP: #480739
  * rebase to v2.6.32-rc8

  [ Ubuntu: 2.6.32-4.5 ]

  * [Config] SERIO_LIBPS2 and SERIO_I8042 must match
  * rebase to v2.6.32-rc7
  * resync with Karmic proposed
  * SAUCE: AppArmor: Fix oops after profile removal
    - LP: #475619
  * SAUCE: AppArmor: Fix Oops when in apparmor_bprm_set_creds
    - LP: #437258
  * SAUCE: AppArmor: Fix cap audit_caching preemption disabling
    - LP: #479102
  * SAUCE: AppArmor: Fix refcounting bug causing leak of creds
    - LP: #479115
  * SAUCE: AppArmor: Fix oops there is no tracer and doing unsafe
    transition.
    - LP: #480112
  * resync with Karmic proposed (ddbc670a86a3dee18541a3734149f250ff307adf)
  * rebase to v2.6.32-rc7

  [ Ubuntu: 2.6.32-3.4 ]

  * [Config] SERIO_LIBPS2 and SERIO_I8042 must match
  * [Upstream] add local prefix to oss local change_bits
  * mtd/maps: gpio-addr-flash: pull in linux/ headers rather than asm/
  * mtd/maps: gpio-addr-flash: depend on GPIO arch support

  [ Ubuntu: 2.6.32-3.3 ]

  * rebase to v2.6.32-rc6
  * [Config] update configs following rebase to v2.6.32-rc6
  * [Config] update ports configs following rebase to v2.6.32-rc6
  * resync with Karmic Ubuntu-2.6.31-15.49
  * [Config] add module ignores for broken drivers
  * SAUCE: AppArmor: AppArmor wrongly reports allow perms as denied
    - LP: #453335
  * SAUCE: AppArmor: Policy load and replacement can fail to alloc mem
    - LP: #458299
  * SAUCE: AppArmor: AppArmor fails to audit change_hat correctly
    - LP: #462824
  * SAUCE: AppArmor: AppArmor disallows truncate of deleted files.
    - LP: #451375
  * SAUCE: Fix nx_enable reporting
    - LP: #454285
  * Revert "SAUCE: trace: add trace_event for the open() syscall"
  * SAUCE: trace: add trace events for open(), exec() and uselib()
    - LP: #462111
  * SAUCE: Fix sub-flavour script to not stop on missing directories
    - LP: #453073
  * resync with Karmic Ubuntu-2.6.31-15.49
  * rebase to v2.6.32-rc6
    - LP: #464552

  [ Ubuntu: 2.6.32-2.2 ]

  * install the full changelog with the binary package
  * changelog -- explicitly note rebases and clean history
  * reinstate armel.mk with no flavours
    - LP: #449637
  * [Upstream] block: silently error unsupported empty barriers too
    - LP: #420423
  * [Config] udate configs following karmic resync
  * [Config] update ports configs following karmic resync
  * [Upstream] lirc -- follow removal of .id element
  * Use section 'admin' rather than 'base'
  * Add more e100 firmware to nic-modules
    - LP: #451872
  * Add qla1280 firmware to scsi-modules
    - LP: #381037
  * SAUCE: AppArmor: Set error code after structure initialization.
    - LP: #427948
  * SAUCE: AppArmor: Fix off by 2 error in getprocattr mem allocation
    - LP: #446595
  * SAUCE: AppArmor: Fix mediation of "deleted" paths
  * SAUCE: [x86] fix report of cs-limit nx-emulation
    - LP: #454285
  * SAUCE: (drop after 2.6.31) input: Add support for filtering input
    events
    - LP: #430809
  * SAUCE: (drop after 2.6.31) dell-laptop: Trigger rfkill updates on wifi
    toggle switch press
    - LP: #430809
  * SAUCE: Add sr_mod to the scsi-modules udeb for powerpc
  * [Config] Add sd_mod to scsi-modules udeb for powerpc
  * SAUCE: Update to LIRC 0.8.6
    - LP: #432678
  * SAUCE: dell-laptop: Store the HW switch status internally rather than
    requerying every time
    - LP: #430809
  * SAUCE: dell-laptop: Blacklist machines not supporting dell-laptop
    - LP: #430809
  * [Upstream] acerhdf: Limit modalias matching to supported boards
    - LP: #435958
  * [Upstream] i915: Fix i2c init message
    - LP: #409361
  * [Config] Add sym53c8xx.ko to virtual sub-flavour
    - LP: #439415
  * [Config] Add d101m_ucode.bin to d-i/firmware/nic-modules
    - LP: #439456
  * [Config] Set default I/O scheduler back to CFQ for desktop flavours
    - LP: #381300
  * SAUCE: Created MODULE_EXPORT/MODULE_IMPORT macros
    - LP: #430694
  * SAUCE: Use MODULE_IMPORT macro to tie intel_agp to i915
    - LP: #430694
  * [Config] CONFIG_GFS2_FS_LOCKING_DLM=y
    - LP: #416325
  * SAUCE: Fix MODULE_IMPORT/MODULE_EXPORT
    - LP: #430694
  * SAUCE: Raise the default console 'quiet' level to 2
  * [Config] CONFIG_X86_PAT=y
  * [Config] Add armel arch to linux-libc-dev arches.
    - LP: #449637
  * [Config] CONFIG_X86_MCE
  * [Upstream] (drop after 2.6.31) Input: synaptics - add another Protege
    M300 to rate blacklist
    - LP: #433801
  * sgi-gru: Fix kernel stack buffer overrun, CVE-2009-2584
  * drm/i915: Fix FDI M/N setting according with correct color depth
    - LP: #416792

  [ Ubuntu: 2.6.32-1.1 ]

  * rebase to v2.6.32-rc3
  * [Config] update configs following rebase to 2.6.32-rc3
  * [Config] update ports configs following rebase to 2.6.32-rc3
  * AppArmor -- fix pstrace_may_access rename
  * staging/android -- disable
  * ubuntu: dm-raid-45 -- update to compile with 2.6.32
  * ubuntu: drbd -- disable
  * staging/comdi -- disable
  * staging/go7007 -- disable
  * [Config] staging/winbond -- disable
  * [Config] ubuntu/iscsitarget -- disable
  * [d-i] cbc and ecb are builtin make them optional in udebs
  * rebase to v2.6.32-rc5
  * [Config] update configs following rebase to v2.6.32-rc5
  * [Config] update ports configs following rebase to v2.6.31-rc5
  * [Config] Add cpio as a build dependency.
  * rebase to v2.6.32-rc3
  * rebase to v2.6.32-rc5

 -- Andy Whitcroft <apw@canonical.com>  Mon, 30 Nov 2009 12:48:46 +0000

linux-ec2 (2.6.31-302.7) karmic; urgency=low

  [ Tim Gardner ]

  * [Config] Updateconfigs after rebase to 2.6.31-14.46

  * Rebased against linux (2.6.31-14.46)

  [ Andy Whitcroft ]

  * reinstate armel.mk with no flavours
    - LP: #449637
  * [Upstream] elevator: fix fastfail checks to allow merge of readahead
    requests
    - LP: #444915
  * [Upstream] block: silently error unsupported empty barriers too
    - LP: #420423

  [ John Johansen ]

  * SAUCE: AppArmor: Fix mediation of "deleted" paths
    - LP: #415632

  [ Tim Gardner ]

  * [Config] CONFIG_X86_MCE
    https://lists.ubuntu.com/archives/kernel-team/2009-October/007584.html
  * Revert "appletalk: Fix skb leak when ipddp interface is not loaded,
    CVE-2009-2903" - Use patch from 2.6.31.4 which is slightly different.

  [ Upstream Kernel Changes ]

  * x86: fix csum_ipv6_magic asm memory clobber
  * tty: Avoid dropping ldisc_mutex over hangup tty re-initialization
  * x86: Don't leak 64-bit kernel register values to 32-bit processes
  * tracing: correct module boundaries for ftrace_release
  * ftrace: check for failure for all conversions
  * futex: fix requeue_pi key imbalance
  * futex: Move exit_pi_state() call to release_mm()
  * futex: Nullify robust lists after cleanup
  * futex: Fix locking imbalance
  * NOHZ: update idle state also when NOHZ is inactive
  * ima: ecryptfs fix imbalance message
  * libata: fix incorrect link online check during probe
  * sound: via82xx: move DXS volume controls to PCM interface
  * ASoC: WM8350 capture PGA mutes are inverted
  * KVM: Prevent overflow in KVM_GET_SUPPORTED_CPUID
  * KVM: VMX: flush TLB with INVEPT on cpu migration
  * KVM: fix LAPIC timer period overflow
  * KVM: SVM: Fix tsc offset adjustment when running nested
  * KVM: SVM: Handle tsc in svm_get_msr/svm_set_msr correctly
  * net: Fix wrong sizeof
  * mm: add_to_swap_cache() must not sleep
  * sis5513: fix PIO setup for ATAPI devices
  * PIT fixes to unbreak suspend/resume (bug #14222)
  * IMA: open new file for read
  * ACPI: Clarify resource conflict message
  * ACPI: fix Compaq Evo N800c (Pentium 4m) boot hang regression
  * net: restore tx timestamping for accelerated vlans
  * net: unix: fix sending fds in multiple buffers
  * tun: Return -EINVAL if neither IFF_TUN nor IFF_TAP is set.
  * tcp: fix CONFIG_TCP_MD5SIG + CONFIG_PREEMPT timer BUG()
  * net: Fix sock_wfree() race
  * smsc95xx: fix transmission where ZLP is expected
  * sky2: Set SKY2_HW_RAM_BUFFER in sky2_init
  * appletalk: Fix skb leak when ipddp interface is not loaded
  * ax25: Fix possible oops in ax25_make_new
  * ax25: Fix SIOCAX25GETINFO ioctl
  * sit: fix off-by-one in ipip6_tunnel_get_prl
  * Linux 2.6.31.4
  * drm/i915: Fix FDI M/N setting according with correct color depth
    - LP: #416792

  * linux (2.6.31-13.45)

  [ Luke Yelavich ]

  * [Config] Add sd_mod to scsi-modules udeb for powerpc

  [ Mario Limonciello ]

  * SAUCE: Update to LIRC 0.8.6
    - LP: #432678

  [ Tim Gardner ]

  * [Config] CONFIG_X86_PAT=y
    https://lists.ubuntu.com/archives/kernel-team/2009-October/007477.html
    https://lists.ubuntu.com/archives/kernel-team/2009-October/007534.html

  * [Config] Add armel arch to linux-libc-dev arches.
    - LP: #449637

  [ Upstream Kernel Changes ]

  * e1000e: swap max hw supported frame size between 82574 and 82583
  * drm/i915: Initialize HDMI outputs as HDMI connectors, not DVI.
    - LP: #392017
  * ALSA: hda - Add quirks for some HP laptops
    - LP: #449742
  * ALSA: hda - Add support for HP dv6
    - LP: #449742

 --  Tim Gardner <tim.gardner@canonical.com>  Mon, 12 Oct 2009 11:27:10 -0600

  * linux (2.6.31-13.44)

  [ Upstream Kernel Changes ]

  * sgi-gru: Fix kernel stack buffer overrun, CVE-2009-2584
  * appletalk: Fix skb leak when ipddp interface is not loaded,
    CVE-2009-2903
    Note - This patch causes an ABI change in the symbol aarp_send_ddp
    which I'm ignoring.

 --  Tim Gardner <tim.gardner@canonical.com>  Tue, 13 Oct 2009 12:00:22 -0600

linux-ec2 (2.6.31-301.6) karmic; urgency=low

  [ Tim Gardner ]

  * [Config] Added cpio as a build dependency.
  * [Config] CONFIG_GFS2_FS_LOCKING_DLM=y
    - LP: #416325
  * [Config] Disable CONFIG_UEVENT_HELPER_PATH
  * [Config] Enable CONFIG_USB_GADGET_DUMMY_HCD
  * [Config] Disable Intel AGP/DRM

  * Rebased against linux (2.6.31-13.43) karmic; urgency=low

  [ Andy Whitcroft ]

  * Revert "[Upstream] acerhdf: Limit modalias matching to supported
    boards"

  [ Colin Watson ]

  * Use section 'admin' rather than 'base'

  [ John Johansen ]

  * SAUCE: AppArmor: Set error code after structure initialization.
    - LP: #427948
  * SAUCE: AppArmor: Fix off by 2 error in getprocattr mem allocation
    - LP: #446595

  [ Luke Yelavich ]

  * SAUCE: Add sr_mod to the scsi-modules udeb for powerpc

  [ Stefan Bader ]

  * [Upstream] acerhdf: Limit modalias matching to supported boards
    (supersedes previous revert made by Andy Whitcroft)
    - LP: #435958

  * Rebased against linux (2.6.31-13.42) karmic; urgency=low

  [ Leann Ogasawara ]

  * SAUCE: (drop after 2.6.31) input: Add support for filtering input
    events
    - LP: #430809
  * SAUCE: (drop after 2.6.31) dell-laptop: Trigger rfkill updates on wifi
    toggle switch press
    - LP: #430809

  [ Tim Gardner ]

  * SAUCE: Raise the default console 'quiet' level to 2
    This supresses all but critical and emergency level messages.
    https://lists.ubuntu.com/archives/kernel-team/2009-October/007476.html

  [ Upstream Kernel Changes ]

  * TTY: fix typos
  * Linux 2.6.31.3
  * V4L/DVB (12439): cx88: add support for WinFast DTV2000H rev. J
    - LP: #433904

  * Rebased against linux (2.6.31-12.41) karmic; urgency=low

  [ Tim Gardner ]

  * [Config] CONFIG_GFS2_FS_LOCKING_DLM=y
    - LP: #416325
  * SAUCE: Fix MODULE_IMPORT/MODULE_EXPORT
    The original patch failed to work for amd64.
    - LP: #430694

  [ Upstream Kernel Changes ]

  * ALSA: hda - Add a white-list for MSI option
    Upstream cherry-pick: Infrastructure support for #445580
  * ALSA: hda - Add HP Pavilion dv4t-1300 to MSI whitelist
    - LP: #445580
  * ALSA: intel8x0 - Mute External Amplifier by default for Sony VAIO
    VGN-T350P
    - LP: #410933
  * ALSA: intel8x0 - Mute External Amplifier by default for Sony VAIO
    VGN-B1VP
    - LP: #410933

  * Rebased against linux (2.6.31-12.40) karmic; urgency=low

  [ Tim Gardner ]

  * SAUCE: Created MODULE_EXPORT/MODULE_IMPORT macros
    - LP: #430694
  * SAUCE: Use MODULE_IMPORT macro to tie intel_agp to i915
    - LP: #430694

  [ Upstream Kernel Changes ]

  * V4L/DVB (12352): gspca - vc032x: Fix mi1310_soc preview and LED
    - LP: #310760

  * Rebased against linux (2.6.31-12.39) karmic; urgency=low

  [ Andy Whitcroft ]

  * install the full changelog with the binary package
  * changelog -- explicitly note rebases and clean history

  [ Tim Gardner ]

  * Revert "SAUCE: (drop after 2.6.31) Disable iwl-1000 series wireless
    adapters"
  * Revert "SAUCE: (drop after 2.6.31) eCryptfs: Prevent lower dentry from
    going negative during unlink"
  * Revert "SAUCE: (drop after 2.6.31) em28xx: ir-kbd-i2c init data needs a
    persistent object"
  * Revert "SAUCE: (drop after 2.6.31) saa7134: ir-kbd-i2c init data needs
    a persistent object"
  * Revert "drm/i915: Check that the relocation points to within the
    target"
  * Revert "drm/i915: fix tiling on IGDNG"
  * Revert "Driver core: add new device to bus's list before probing"
  * Revert "HID: completely remove apple mightymouse from blacklist"
  * Revert "KVM: x86: check for cr3 validity in ioctl_set_sregs"

    All reverts superseded by corresponding v2.6.31.2 patches

  * [Config] Add d101m_ucode.bin to d-i/firmware/nic-modules
    - LP: #439456
  * [Config] Enabled CONFIG_SND_HDA_HWDEP
    - LP: #443117
  * [Config] Add cpio as a build dependency.
  * [Config] Set default I/O scheduler back to CFQ for desktop flavours
    - LP: #381300

  [ Upstream Kernel Changes ]

  * KVM: VMX: Fix EPT with WP bit change during paging
  * pata_amd: do not filter out valid modes in nv_mode_filter
  * p54usb: add Zcomax XG-705A usbid
  * x86: Increase MIN_GAP to include randomized stack
  * serial: bfin_5xx: fix building as module when early printk is enabled
  * USB: option.c Add support for ZTE AC2726 EVDO modem
  * USB: option: TELIT UC864G support
  * video: s3c_fb.c: fix build with CONFIG_HOTPLUG=n
  * kbuild: fix cc1 options check to ensure we do not use -fPIC when
    compiling
  * drivers/mfd/ab3100-core.c: fix powerpc build error
  * thinkpad-acpi: don't ask about brightness_mode for fw. 1V and 1R
  * ACPI: pci_slot.ko wants a 64-bit _SUN
  * fbcon: only unbind from console if successfully registered
  * kallsyms: fix segfault in prefix_underscores_count()
  * sisfb: change SiS_DDC_Port type to SISIOADDRESS
  * mmc_spi: fail gracefully if host or card do not support the switch
    command
  * alpha: AGP update (fixes compile failure)
  * fs: make sure data stored into inode is properly seen before unlocking
    new inode
  * eCryptfs: Handle unrecognized tag 3 cipher codes
  * eCryptfs: Check for O_RDONLY lower inodes when opening lower files
  * eCryptfs: Filename encryption only supports password auth tokens
  * eCryptfs: Validate global auth tok keys
  * eCryptfs: Prevent lower dentry from going negative during unlink
  * Re-enable Lanman security
  * xen: make -fstack-protector work under Xen
  * xen: only enable interrupts while actually blocking for spinlock
  * xen: use stronger barrier after unlocking lock
  * xen: check EFER for NX before setting up GDT mapping
  * perf_counter: Fix perf_copy_attr() pointer arithmetic
  * perf tools: Fix buffer allocation
  * tty: serial/pcmcia: add ID for Advantech card
  * PM / PCMCIA: Drop second argument of pcmcia_socket_dev_suspend()
  * PM / yenta: Fix cardbus suspend/resume regression
  * sony-laptop: check for rfkill hard block at load time
  * nilfs2: fix missing zero-fill initialization of btree node cache
  * ar9170usb: add usbid for TP-Link TL-WN821N v2
  * mtd: nand: fix ECC Correction bug for SMC ordering for NDFC driver
  * mtd: ofpart: Check availability of reg property instead of name
    property
  * mtd: cfi_cmdset_0002: add 0xFF intolerance for M29W128G
  * USB: serial: ftdi_sio: new hardware support - hameg power supply
  * USB: add PIDs for FTDI based OpenDCC hardware
  * USB: serial: ftdi: handle gnICE+ JTAG adaptors
  * USB: CDC WDM driver doesn't support non-blocking reads
  * USB: fix cdc-acm regression in open
  * cdc_acm: Fix to use modern speed interfaces
  * tty: remove dtr/rts use from the driver open methods
  * tty: gigaset: really fix chars_in_buffer
  * kaweth: Fix memory leak in kaweth_control()
  * x86: SGI UV: Fix IPI macros
  * USB: serial: pl2303: new hardware support - sanwa multimeter
  * USB: storage: fix a resume path GFP_NOIO must be used
  * USB: usb-storage fails to attach to Huawei Datacard cdrom device
  * USB: usbtmc: sanity checks for DEV_DEP_MSG_IN urbs
  * USB: sl811-hcd: Fix device disconnect:
  * drm/i915: remove restore in resume
  * drm/i915: Only destroy a constructed mmap offset
  * drm/i915: prevent FIFO calculation overflows on 32 bits with high
    dotclocks
  * drm/i915: Add buffer to inactive list immediately during fault
  * drm/i915: Check that the relocation points to within the target
  * drm/i915: Fix typo for wrong LVDS clock setting on IGDNG
  * drm/i915: Fix SSC frequence for IGDNG
  * drm/i915: Remove DAC disable in CRT force detect on IGDNG
  * drm/i915: Fix LVDS panel fitting on Arrandale
  * drm/I915: Use the CRT DDC to get the EDID for DVI-connector on Mac
  * drm/i915: fix tiling on IGDNG
  * agp/intel: Fix the pre-9xx chipset flush.
  * nfsd4: fix null dereference creating nfsv4 callback client
  * can: fix NOHZ local_softirq_pending 08 warning
  * ahci: restore pci_intx() handling
  * pxa/sharpsl_pm: zaurus c3000 aka spitz: fix resume
  * net ax25: Fix signed comparison in the sockopt handler
  * net: Make the copy length in af_packet sockopt handler unsigned
  * pty_write: don't do a tty_wakeup() when the buffers are full
  * KVM: fix cpuid E2BIG handling for extended request types
  * KVM: MMU: fix missing locking in alloc_mmu_pages
  * KVM: MMU: fix bogus alloc_mmu_pages assignment
  * KVM: Protect update_cr8_intercept() when running without an apic
  * Fix NULL ptr regression in powernow-k8
  * perf tools: do not complain if root is owning perf.data
  * netfilter: nf_nat: fix inverted logic for persistent NAT mappings
  * netfilter: nf_conntrack: netns fix re reliable conntrack event delivery
  * netfilter: bridge: refcount fix
  * netfilter: ebt_ulog: fix checkentry return value
  * ath5k: Wakeup fixes
  * ath5k: do not release irq across suspend/resume
  * Driver core: add new device to bus's list before probing
  * tty: Add a full port_close function
  * tty: USB hangup is racy
  * tty: USB can now use the shutdown method for kref based freeing of
    ports
  * hwmon: (asus_atk0110) Add maintainer information
  * tty: USB serial termios bits
  * usb-serial: change referencing of port and serial structures
  * usb-serial: put subroutines in logical order
  * usb-serial: change logic of serial lookups
  * usb-serial: acquire references when a new tty is installed
  * usb-serial: fix termios initialization logic
  * usb-serial: rename subroutines
  * usb-serial: add missing tests and debug lines
  * usb-serial: straighten out serial_open
  * USB serial: update the console driver
  * USB: xhci: Work around for chain bit in link TRBs.
  * USB: xhci: Fix slot and endpoint context debugging.
  * USB: xhci: Configure endpoint code refactoring.
  * USB: xhci: Set correct max packet size for HS/FS control endpoints.
  * USB: xhci: Support full speed devices.
  * USB: xhci: Handle stalled control endpoints.
  * USB: xhci: Add quirk for Fresco Logic xHCI hardware.
  * USB: xhci: Make TRB completion code comparison readable.
  * USB: xhci: Handle babbling endpoints correctly.
  * USB: xhci: Don't touch xhci_td after it's freed.
  * USB: xhci: Check URB's actual transfer buffer size.
  * USB: xhci: Check URB_SHORT_NOT_OK before setting short packet status.
  * USB: xhci: Set -EREMOTEIO when xHC gives bad transfer length.
  * USB: xhci: Support interrupt transfers.
  * USB: Fix SS endpoint companion descriptor parsing.
  * /proc/kcore: work around a BUG()
  * hugetlb: restore interleaving of bootmem huge pages (2.6.31)
  * page-allocator: limit the number of MIGRATE_RESERVE pageblocks per zone
  * mm: munlock use follow_page
  * mm: fix anonymous dirtying
  * mmap: avoid unnecessary anon_vma lock acquisition in vma_adjust()
  * Fix idle time field in /proc/uptime
  * drm/i915: Handle ERESTARTSYS during page fault
  * em28xx: ir-kbd-i2c init data needs a persistent object
  * saa7134: ir-kbd-i2c init data needs a persistent object
  * powerpc/8xx: Fix regression introduced by cache coherency rewrite
  * powerpc: Fix incorrect setting of __HAVE_ARCH_PTE_SPECIAL
  * HID: completely remove apple mightymouse from blacklist
  * mptsas : PAE Kernel more than 4 GB kernel panic
  * NOMMU: Fix MAP_PRIVATE mmap() of objects where the data can be mapped
    directly
  * iwlwifi: Handle new firmware file with ucode build number in header
  * iwlwifi: update 1000 series API version to match firmware
  * iwlagn: modify digital SVR for 1000
  * iwlwifi: traverse linklist to find the valid OTP block
  * iwlwifi: fix unloading driver while scanning
  * Linux 2.6.31.2

  * Rebased against linux (2.6.31-11.38) karmic; urgency=low

  [ Stefan Bader ]

  * [Upstream] acerhdf: Limit modalias matching to supported boards
    - LP: #435958

  [ Tim Gardner ]

  * [Config] Added sata_via to d-i/modules/sata-modules
    - LP: #434827
  * SAUCE: (drop after 2.6.31) Disable iwl-1000 series wireless adapters
    - LP: #439285
  * [Upstream] i915: Fix i2c init message
    - LP: #409361
  * [Config] Add sym53c8xx.ko to virtual sub-flavour
    - LP: #439415

  [ Upstream Kernel Changes ]

  * sched: Disable NEW_FAIR_SLEEPERS for now
    - LP: #436342

  * ACPI video: ignore buggy _BQC
  * ACPI video: work-around BIOS AML bug in _BQC
    - LP: #428910
  * ALSA: hda - Added quirk to enable sound on Toshiba NB200
    - LP: #438318

 --  Tim Gardner <tim.gardner@canonical.com>  Fri, 09 Oct 2009 10:42:15 -0600

linux-ec2 (2.6.31-300.5) karmic; urgency=low

  [ Tim Gardner ]

  * [Config] Fix header package names and dependencies
    - LP: #437784

 --  Tim Gardner <tim.gardner@canonical.com>  Wed, 30 Sep 2009 08:07:32 -0600

linux-ec2 (2.6.31-300.4) karmic; urgency=low

  [ Tim Gardner ]

  * [Config] Disable Lenovo laptop config
  * Rebase against master Ubuntu-2.6.31-11.37

  [ Upstream Kernel Changes ]

  * n_tty: honor opost flag for echoes
  * n_tty: move echoctl check and clean up logic
    - LP: #438310

 --  Tim Gardner <tim.gardner@canonical.com>  Mon, 28 Sep 2009 22:15:20 -0600

linux-ec2 (2.6.31-300.3) karmic; urgency=low

  [ Chuck Short ]

  * SAUCE: ec2: Default domU console to tty.
    - LP: #431103

  [ Tim Gardner ]

  * [Config] Remove dependency on wireless-crda
    - LP: #434755
  * [Config] Drop bootloaders as a recommendation
    - LP: #434755
  * [Config] Drop virtual sub flavours

 --  Tim Gardner <tim.gardner@canonical.com>  Fri, 25 Sep 2009 15:18:34 -0600

linux-ec2 (2.6.31-300.2) karmic; urgency=low

  [ Tim Gardner ]

  * [Config] Use gawk in xen makefiles
  * [Config] CONFIG_DMI=n for XEN_UNPRIVILEGED_GUEST

 --  Tim Gardner <tim.gardner@canonical.com>  Tue, 08 Sep 2009 22:54:48 -0600

linux-ec2 (2.6.31-300.1) karmic; urgency=low

  [ Tim Gardner ]

  * Revert "[Config] Let lenovo-sl-laptop build"
  * Revert "SAUCE: [x86] implement cs-limit nx-emulation for ia32"
  * [Config] Initial EC2 commit
  * [Config] Removed ports
  * [Config] Removed lpia
  * [Config] Settled on the single EC2 flavour
  * [Config] Disable udebs
  * SAUCE: Prepare swap.h for Xen patches
  * SAUCE: Xen 3.02
  * [Config] Target vmlinuz
  * [Config] Build with correct arch

  [ Upstream Kernel Changes ]

  * Revert "PCI SR-IOV: correct broken resource alignment calculations"

 --  Tim Gardner <tim.gardner@canonical.com>  Tue, 08 Sep 2009 20:31:57 -0600

linux-ec2 (2.6.31-300.0) karmic; urgency=low

  * Dummy entry

 --  Tim Gardner <tim.gardner@canonical.com>  Tue, 08 Sep 2009 20:31:57 -0600

linux (2.6.31-10.30) karmic; urgency=low

  [ Amit Kucheria ]

  * [Config] Enable CONFIG_USB_DEVICEFS
    - LP: #417748
  * [Config] Populate the config-update template a bit more

  [ Andy Whitcroft ]

  * rebase to v2.6.31-rc9
  * [Config] update configs following rebase to v2.6.31-rc9
  * [Config] update ports configs following rebase to v2.6.31-rc9

  [ Colin Ian King ]

  * SAUCE: wireless: hostap, fix oops due to early probing interrupt
    - LP: #254837

  [ Jerone Young ]

  * [Upstream] ACPI: Add Thinkpad T400 & Thinkpad T500 to OSI(Linux)
    white-list
    - LP: #281732
  * [Upstream] ACPI: Add Thinkpad X200, X200s, X200t to OSI(Linux)
    white-list
    - LP: #281732
  * [Upstream] ACPI: Add Thinkpad X300 & Thinkpad X301 to OSI(Linux)
    white-list
    - LP: #281732
  * [Upstream] ACPI: Add Thinkpad R400 & Thinkpad R500 to OSI(Linux)
    white-list
    - LP: #281732
  * [Upstream] ACPI: Add Thinkpad W500, W700, & W700ds to OSI(Linux)
    white-list
    - LP: #281732

  [ John Johansen ]

  * SAUCE: AppArmor: Fix profile attachment for regexp based profile names
    - LP: #419308
  * SAUCE: AppArmor: Return the correct error codes on profile
    addition/removal
    - LP: #408473
  * SAUCE: AppArmor: Fix OOPS in profile listing, and display full list
    - LP: #408454
  * SAUCE: AppArmor: Fix mapping of pux to new internal permission format
    - LP: #419222
  * SAUCE: AppArmor: Fix change_profile failure
    - LP: #401931
  * SAUCE: AppArmor: Tell git to ignore generated include files
    - LP: #419505

  [ Stefan Bader ]

  * [Upstream] acpi: video: Loosen strictness of video bus detection code
    - LP: #333386
  * SAUCE: Remove ov511 driver from ubuntu subdirectory

  [ Tim Gardner ]

  * [Config] Exclude char-modules from non-x86 udeb creation
  * SAUCE: Notify the ACPI call chain of AC events
  * [Config] CONFIG_SATA_VIA=m
    - LP: #403385
  * [Config] Build in all phylib support modules.
  * [Config] Don't fail when sub-flavour files are missing
    - LP: #423426
  * [Config] Set CONFIG_LSM_MMAP_MIN_ADDR=0
    - LP: #423513

  [ Upstream ]

  * Rebased against v2.6.31-rc9

 -- Andy Whitcroft <apw@canonical.com>  Mon, 07 Sep 2009 11:33:45 +0100

linux (2.6.31-9.29) karmic; urgency=low

  [ Leann Ogasawara ]

  * [Upstream] agp/intel: support for new chip variant of IGDNG mobile
    - LP: #419993
  * [Config] d-i/modules: Add new char-modules file, initialize with
    intel-agp
    - LP: #420605

  [ Upstream ]

  * Rebased against 2.6.31-rc8 plus some inotify regression patches:
    up through git://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux-2.6.git
    adda766193ea1cf3137484a9521972d080d0b7af.

 --  Tim Gardner <tim.gardner@canonical.com>  Fri, 28 Aug 2009 06:31:30 -0600

linux (2.6.31-8.28) karmic; urgency=low

  [ Ike Panhc ]

  * [Config] Let nic-shared-modules depends on crypto-modules
    - LP: #360966

  [ Leann Ogasawara ]

  * [Upstream] (drop after 2.6.31) drm/i915: increase default latency
    constant
    - LP: #412492

  [ Mario Limonciello ]

  * [Upstream]: (drop after 2.6.31) dell-laptop: don't change softblock
    status if HW switch is disabled
    - LP: #418721
  * [Upstream]: (drop after 2.6.31) compal-laptop: Add support for known
    Compal made Dell laptops
  * [Upstream]: (drop after 2.6.31) compal-laptop: Replace sysfs support
    with rfkill support

  [ Tim Gardner ]

  * [Config] Add acpiphp to virtual sub-flavour
    - LP: #364916
  * Drop KSM patch set for now because of instabilities with encrypted swap.
    - LP: #418781

 --  Tim Gardner <tim.gardner@canonical.com>  Wed, 26 Aug 2009 08:14:26 -0600

linux (2.6.31-7.27) karmic; urgency=low

  [ Tim Gardner ]

  * [Config] updateconfigs updateportsconfigs after 2.6.31-rc7 rebase
  * SAUCE: (drop after 2.6.31) Added KSM from mmotm-2009-08-20-19-18
    Replaces previous ksm patches from 2.6.31-6.25
  * [Config] KSM=y

 --  Tim Gardner <tim.gardner@canonical.com>  Sat, 22 Aug 2009 20:32:11 -0600

linux (2.6.31-6.26) karmic; urgency=low

  [ Andy Whitcroft ]

  * [Config] enable CONFIG_AUFS_BR_RAMFS
    - LP: #414738
  * split out debian directory ready for abstraction
  * add printdebian target to find branch target
  * abstracted debian -- debian/files is not abstracted
  * abstracted debian -- packages must be built in debian/<pkg>
  * abstracted debian -- kernel-wedge needs to work in debian/
  * abstracted debian -- ensure we install the copyright file
  * abstracted-debian -- drop the debian directories from headers
  * abstracted-debian -- drop the debian directories from headers part 2
  * SAUCE: ubuntu-insert-changes -- follow abstracted debian
  * [Upstream] aoe: ensure we initialise the request_queue correctly V2
    - LP: #410198

  [ Luke Yelavich ]

  * [Config] Ports: Disable CONFIG_CPU_FREQ_DEBUG on powerpc-smp
  * [Config] Ports: Re-enable windfarm modules on powerpc64-smp
    - LP: #413150
  * [Config] Ports: Build all cpu frequency scaling governors into ports
    kernels
  * [Config] Ports: Build ext2 and ext3 modules into ports kernels
  * [Config] Ports: CONFIG_PACKET=y for all ports kernels
  * [Config] Ports: Enable PS3 network driver

  [ Stefan Bader ]

  * abstracted debian -- call $(DEBIAN)/rules using make

  [ Tim Gardner ]

  * [Config] Abstract the debian directory
  * SAUCE: Improve error reporting in postinst
    - LP: #358564

 --  Tim Gardner <tim.gardner@canonical.com>  Sun, 16 Aug 2009 20:33:28 -0600

linux (2.6.31-6.25) karmic; urgency=low

  [ Andy Whitcroft ]

  * script to generate Ubuntu changes from changelog
  * [Config] standardise ANDROID options
  * [Config] standardise CONFIG_ATM as module
  * [Config] standardise CONFIG_LIB80211 as module
  * [Config] disable CONFIG_PRINT_QUOTA_WARNING
  * [Config] set CONFIG_CRAMFS as module
  * [Config] enable CONFIG_DAB and modules
  * [Config] set CONFIG_MAC80211_HWSIM as module
  * [Config] set CONFIG_NET_CLS_FLOW as module
  * [Config] set CONFIG_NF_CONNTRACK_SANE as module
  * [Config] set CONFIG_NF_CT_PROTO_DCCP as module
  * [Config] set CONFIG_RTC_DRV_DS1511 as module
  * [Config] set CONFIG_RTC_DRV_R9701 as module
  * [Config] set CONFIG_RTC_DRV_S35390A as module
  * [Config] set CONFIG_TOIM3232_DONGLE as module
  * [Config] standardise CONFIG_USB_MIDI_GADGET as module
  * [Config] standardise CONFIG_USB_G_PRINTER as module
  * [Config] standardise CONFIG_USB_SERIAL_IR as module
  * [Config] set CONFIG_USB_SERIAL_IUU as module
  * [Config] standardise CONFIG_USB_STORAGE_CYPRESS_ATACB as module
  * [Config] standardise CONFIG_USB_STORAGE_ONETOUCH as module
  * cleanup remains of dm-loop
  * drop thinkpad ec and smapi support
  * drop appleir
  * [Config] update configs following rebase to v2.6.31-rc6

  [ Hugh Dickins ]

  * SAUCE: ksm patch 1, drop after 2.6.31
  * SAUCE: ksm patch 2, drop after 2.6.31
  * SAUCE: ksm patch 3, drop after 2.6.31
  * SAUCE: ksm patch 4, drop after 2.6.31
  * SAUCE: ksm patch 5, drop after 2.6.31
  * SAUCE: ksm patch 7, drop after 2.6.31

  [ Izik Eidus ]

  * SAUCE: ksm patch 0, drop after 2.6.31
  * SAUCE: ksm patch 6, drop after 2.6.31
  * SAUCE: ksm patch 8, drop after 2.6.31
  * SAUCE: ksm patch 9, drop after 2.6.31

  [ Luke Yelavich ]

  * [Config] Ports: Re-add PS3 modules to udebs

  [ Michael Casadevall ]

  * [Config] Update SPARC config and d-i files to reflect what can be built

  [ Tim Gardner ]

  * [Config] Removed armel package support
  * [Config] Enabled CONFIG_KSM=y

  [ Upstream Kernel Changes ]

  * ARM: Cleanup: Revert "ARM: Add more cache memory types macros"
  * ARM: Cleanup: Revert "Do not use OOB with MLC NAND"
  * ARM: Cleanup: Revert "ARM: Make ARM arch aware of ubuntu/ drivers"
  * ARM: Cleanup: Revert "ARM: IMX51: Make video capture drivers compile"
  * ARM: Cleanup: Revert "ARM: IMX51: Fix isl29003 HWMON driver for i2c
    changes"
  * ARM: Cleanup: Revert "ARM: IMX51: IPU irq handler deadlock fix"
  * ARM: Cleanup: Revert "ARM: IMX51: Babbage 2.5 needs a different system
    revision"
  * ARM: Cleanup: Revert "ARM: IMX51: Compile-in the IMX51 cpufreq driver
    by default"
  * ARM: Cleanup: Revert "ARM: IMX51: Enable ZONE_DMA for ARCH_MXC"
  * ARM: Cleanup: Revert "ARM: IMX51: Make ARCH_MXC auto-enable
    ARCH_MXC_CANONICAL"
  * ARM: Cleanup: Revert "ARM: IMX51: Unconditionally disable
    CONFIG_GPIOLIB"
  * ARM: Cleanup: Revert "ARM: IMX51: Minimal changes for USB to work on
    2.6.31"
  * ARM: Cleanup: Revert "ARM: IMX51: Fix plat-mxc/timer.c to handle imx51"
  * ARM: Cleanup: Revert "ARM: IMX51: Make it compile."
  * ARM: Cleanup: Revert "ARM: IMX51: Clean-up the craziness of including
    mxc_uart.h _everywhere_"
  * ARM: Cleanup: Revert "ARM: IMX51: Move board-mx51* header files to the
    correct location"
  * ARM: Cleanup: Revert "ARM: IMX51: Changed from snd_card_new to
    snd_card_create"
  * ARM: Cleanup: Revert "ARM: IMX51: Fix up merge error in Kconfig"
  * ARM: Cleanup: Revert "ARM: IMX51: mxc_timer_init prototype"
  * ARM: Cleanup: Revert "ARM: IMX51: Removed the mxc_gpio_port structure."
  * ARM: Cleanup: Revert "ARM: IMX51: Added external declaration for
    mxc_map_io."
  * ARM: Cleanup: Revert "ARM: IMX51: Get to bus_id by calling dev_name."
  * ARM: Cleanup: Revert "ARM: IMX51: Get to bus_id by calling dev_name."
  * ARM: Cleanup: Revert "ARM: IMX51: snd_soc_machine structure replaced
    with snd_soc_card."
  * ARM: Cleanup: Revert "ARM: IMX51: codec structure was moved to the card
    structure"
  * ARM: Cleanup: Revert "ARM: IMX51: Hack to add defines for
    DMA_MODE_READ/WRITE/MASK"
  * ARM: Cleanup: Revert "ARM: IMX51: Add SoC and board support for
    Freescale mx51 platform"
  * Driver core: add new device to bus's list before probing
  * [Upstream] (drop after 2.6.31) ALSA: hda - Reduce click noise at
    power-saving
    - LP: #381693, #399750, #380892

 -- Andy Whitcroft <apw@canonical.com>  Fri, 14 Aug 2009 11:32:23 +0100

linux (2.6.31-5.24) karmic; urgency=low

  [ Amit Kucheria ]

  * ARM: IMX51: Make video capture drivers compile
  * [Config] IMX51: Config updates

  [ Andy Whitcroft ]

  * remove leftovers of dm-bbr

  [ Leann Ogasawara ]

  * Add pata_cs5535 to pata-modules
    - LP: #318805

  [ Luke Yelavich ]

  * [Config] CONFIG_PPC64=y for powerpc64-smp
  * [Config] Set the maximum number of CPUs to 1024 for powerpc64-smp
  * [Config] CONFIG_PPC_PS3=y for powerpc64-smp
  * [Config] CONFIG_PPC_MAPLE=y on powerpc64-smp
  * [Config] CONFIG_PPC_PASEMI=y on powerpc64-smp
  * [Config] CONFIG_CPU_FREQ_PMAC64=y on powerpc64-smp
  * [Config] Enable all PS3 drivers in powerpc64-smp

  [ Mario Limonciello ]

  * LIRC -- fix lirc-i2c 2.6.31 compilation

  [ Matthew Garrett ]

  * [Upstream] dell-laptop: Fix rfkill state queries

  [ Tim Gardner ]

  * [Config] Ignore armel ABI and module changes
  * [Config] Update configs after rebase against 2.6.31-rc5

  [ Upstream ]

  * Rebased to 2.6.31-rc5

 -- Andy Whitcroft <apw@canonical.com>  Tue, 28 Jul 2009 10:10:09 +0100

linux (2.6.31-4.23) karmic; urgency=low

  [ Andy Whitcroft ]

  * AUFS -- update to aufs2-30 20090727
  * [Config] enable AUFS FUSE support

  [ Luke Yelavich ]

  * [Config] CONFIG_JFS_FS=m on sparc

  [ Tim Gardner ]

  * [Upstream] dell-laptop: Fix rfkill state setting.

 -- Andy Whitcroft <apw@canonical.com>  Mon, 27 Jul 2009 11:11:47 +0100

linux (2.6.31-4.22) karmic; urgency=low

  [ Amit Kucheria ]

  * ARM: IMX51: Add SoC and board support for Freescale mx51 platform
  * ARM: IMX51: Move board-mx51* header files to the correct location
  * ARM: IMX51: Clean-up the craziness of including mxc_uart.h _everywhere_
  * ARM: IMX51: Make it compile.
  * ARM: IMX51: Unconditionally disable CONFIG_GPIOLIB
  * ARM: IMX51: Make ARCH_MXC auto-enable ARCH_MXC_CANONICAL
  * ARM: IMX51: Enable ZONE_DMA for ARCH_MXC
  * ARM: IMX51: Compile-in the IMX51 cpufreq driver by default
  * ARM: IMX51: Fix isl29003 HWMON driver for i2c changes
  * ARM: USB: musb: Refer to musb_otg_timer_func under correct #ifdef
  * ARM: staging: udlfb: Add vmalloc.h include
  * UBUNTU [Config]: Bring imx51 config upto date with other flavours

  [ Brad Figg ]

  * ARM: IMX51: Hack to add defines for DMA_MODE_READ/WRITE/MASK
  * ARM: IMX51: codec structure was moved to the card structure
  * ARM: IMX51: snd_soc_machine structure replaced with snd_soc_card.
  * ARM: IMX51: Get to bus_id by calling dev_name.
  * ARM: IMX51: Get to bus_id by calling dev_name.
  * ARM: IMX51: Added external declaration for mxc_map_io.
  * ARM: IMX51: Removed the mxc_gpio_port structure.
  * ARM: IMX51: mxc_timer_init prototype
  * ARM: IMX51: Fix up merge error in Kconfig
  * ARM: IMX51: Changed from snd_card_new to snd_card_create

  [ Dinh Nguyen ]

  * ARM: IMX51: Fix plat-mxc/timer.c to handle imx51
  * ARM: IMX51: Minimal changes for USB to work on 2.6.31
  * ARM: IMX51: Babbage 2.5 needs a different system revision
  * ARM: IMX51: IPU irq handler deadlock fix

  [ Tim Gardner ]

  * [Config] Enabled CONFIG_CAN=m
    - LP: #327243
  * [Config] Enabled CONFIG_SERIAL=m
    - LP: #397189

 --  Tim Gardner <tim.gardner@canonical.com>  Fri, 24 Jul 2009 06:19:10 -0600

linux (2.6.31-4.21) karmic; urgency=low

  [ Amit Kucheria ]

  * dm-raid-4-5: Add missing brackets around test_bit()

  [ John Johansen ]

  * AppArmor: Fix change_profile failing lpn401931
  * AppArmor: Fix determination of forced AUDIT messages.
  * AppArmor: Fix oops in auditing of the policy interface offset

 -- Andy Whitcroft <apw@canonical.com>  Thu, 23 Jul 2009 19:18:30 +0100

linux (2.6.31-4.20) karmic; urgency=low

  [ Andy Whitcroft ]

  * SAUCE: iscsitarget -- update to SVN revision r214
  * SAUCE: iscsitarget -- renable driver
  * [Config] consolidate lpia/lpia and i386/generic configs
  * [Config] enable CRYPTO modules for all architectures
  * [Config] enable cryptoloop
  * [Config] enable various filesystems for armel
  * [Config] sync i386 generic and generic-pae
  * [Config] add the 386 (486 processors and above) flavour
  * [Config] re-set DEFAULT_MMAP_MIN_ADDR
    - LP: #399914
  * add genconfigs/genportsconfigs to extract the built configs
  * updateconfigs -- alter concatenation order allow easier updates
  * intelfb -- INTELFB now conflicts with DRM_I915
  * printchanges -- rebase tree does not have stable tags use changelog
  * AppArmor: fix argument size missmatch on 64 bit builds

  [ Ike Panhc ]

  * Ship bnx2x firmware in nic-modules udeb
    - LP: #360966

  [ Jeff Mahoney ]

  * AppArmor: fix build failure on ia64

  [ John Johansen ]

  * AppArmour: ensure apparmor enabled parmater is off if AppArmor fails to
    initialize.
  * AppArmour: fix auditing of domain transitions to include target profile
    information
  * AppArmor: fix C99 violation
  * AppArmor: revert reporting of create to write permission.
  * SAUCE: Add config option to set a default LSM
  * [Config] enable AppArmor by default
  * AppArmor: Fix NULL pointer dereference oops in profile attachment.

  [ Keith Packard ]

  * SAUCE: drm/i915: Allow frame buffers up to 4096x4096 on 915/945 class
    hardware
    - LP: #351756

  [ Luke Yelavich ]

  * [Config] add .o files found in arch/powerpc/lib to all powerpc kernel
    header packages
    - LP: #355344

  [ Michael Casadevall ]

  * [Config] update SPARC config files to allow success build

  [ Scott James Remnant ]

  * SAUCE: trace: add trace_event for the open() syscall

  [ Stefan Bader ]

  * SAUCE: jfs: Fix early release of acl in jfs_get_acl
    - LP: #396780

  [ Tim Gardner ]

  * [Upstream] Fix Soltech TA12 volume hotkeys not sending key release
    - LP: #397499
  * [Upstream] USB Option driver - Add USB ID for Novatel MC727/U727/USB727
    refresh
    - LP: #365291
  * [Config] SSB/B44 are common across all arches/flavours.

  [ Upstream ]

  * Rebased to 2.6.31-rc4

 -- Andy Whitcroft <apw@canonical.com>  Thu, 23 Jul 2009 08:41:39 +0100

linux (2.6.31-3.19) karmic; urgency=low

  [ Andy Whitcroft ]

  * Revert "[Config] Disabled NDISWRAPPER"
  * ndiswrapper -- fix i386 compilation failures on cmpxchg8b
  * AUFS -- export various core functions
  * AUFS -- export various core functions -- fixes
  * AUFS -- core filesystem
  * AUFS -- track changes in v2.6.31
  * [Config] Enable AUFS
  * droppped 'iwl3945: do not send scan command if channel count zero' as it
    is already upstream but failed to auto-drop on rebase.

  [ Eric Paris ]

  * SAUCE: fsnotify: use def_bool in kconfig instead of letting the user
    choose
  * SAUCE: inotify: check filename before dropping repeat events
  * SAUCE: fsnotify: fix inotify tail drop check with path entries

 -- Andy Whitcroft <apw@canonical.com>  Tue, 14 Jul 2009 12:52:55 +0100

linux (2.6.31-3.18) karmic; urgency=low

  [ Andy Whitcroft ]

  * Revert "Add splice-2.6.23.patch from AUFS to export a symbol needed by
    AUFS"
  * Revert "Add put_filp.patch from AUFS to export a symbol needed by AUFS"
  * Revert "Add sec_perm-2.6.24.patch from AUFS - export
    security_inode_permission"
  * clear out left over AUFS files and modifications

  [ Luke Yelavich ]

  * [Config] Enable CONFIG_USB_ISP116X_HCD on sparc
  * SAUCE: Explicitly include header files to allow apparmor to build on
    powerpc
  * [Config] Enable CONFIG_BLK_DEV_IDECD on powerpc

  [ Tim Gardner ]

  * [Config] Dropped ubuntu/misc/wireless/acx
  * [Config] Disabled NDISWRAPPER until the compile issues are fixed.

  [ Upstream ]

  * Rebased to 2.6.31-rc3

 -- Andy Whitcroft <apw@canonical.com>  Fri, 10 Jul 2009 18:59:33 +0100

linux (2.6.31-2.17) karmic; urgency=low

  [ Andy Whitcroft ]

  * [Config] CONFIG_BLK_DEV_CRYPTOLOOP=m for sparc
  * compcache -- remove redundant Kconfig entries part 2
  * compcache -- clean up CCFLAGS declarations
  * [Config] enable AppArmor
  * AppArmor: fix operator precidence issue in as_path_link

  [ John Johansen ]

  * AppArmor security module
  * AppArmor: Correct mapping of file permissions.
  * AppArmor: Turn auditing of ptrace on

  [ Luke Yelavich ]

  * [Config] disable CONFIG_DM_RAID45 on powerpc

 -- Andy Whitcroft <apw@canonical.com>  Fri, 10 Jul 2009 15:02:05 +0100

linux (2.6.31-2.16) karmic; urgency=low

  [ Andy Whitcroft ]

  * compcache -- remove redundant Kconfig entries
    added ignore and ignore.modules for all arches since the compcache update
    changes the modules names as well as some compcache ABI values.

  [ Manoj Iyer ]

  * SAUCE: updated dm-raid45 module version to 2009.04.24 (2.6.30-rc3)
  * SAUCE: update compcache version to 0.5.3

  [ Tim Gardner ]

  * [Config]: Fix sparc FTBS by adding ignore.modules

 --  Tim Gardner <tim.gardner@canonical.com>  Mon, 06 Jul 2009 13:35:29 -0600

linux (2.6.31-2.15) karmic; urgency=low

  [ Andy Whitcroft ]

  * SAUCE: default ATI Radeon KMS to off until userspace catches up
  * [Config] Update configs following rebase to 2.6.31-rc2
  * [Config] update ports configs following update to 2.6.31-rc2

  [ Luke Yelavich ]

  * [Config] powerpc - Disable CONFIG_RDS

  [ Matt Zimmerman ]

  * Rename linux-doc-PKGVER to linux-doc and clean up its description
    - LP: #382115

  [ Upstream Kernel Changes ]

  * rebased to mainline 2.6.31-rc2

 -- Andy Whitcroft <apw@canonical.com>  Sat, 04 Jul 2009 17:39:13 +0100

linux (2.6.31-1.14) karmic; urgency=low

  [ Andy Whitcroft ]

  * update ndiswrapper to 1.55
  * remove leftovers of gfs
  * [Config] powerpc: enable CONFIG_PPC_DISABLE_WERROR

  [ Luke Yelavich ]

  * [Config] re-enable and build the ide-pmac driver into powerpc kernels
  * [Config] Build the ServerWorks Frodo / Apple K2 SATA driver into the
    kernel

  [ Manoj Iyer ]

  * Remove snd-bt-sco ubuntu driver

  [ Michael Casadevall ]

  * [Config] updates ia64 config and d-i folders to allow succesful build
  * [Config] Update powerpc and sparc for 2.6.31

  [ Upstream Kernel Changes ]

  * intel-iommu: fix Identity Mapping to be arch independent
    - LP: #384695
  * ACPI: video: prevent NULL deref in acpi_get_pci_dev()

 -- Andy Whitcroft <apw@canonical.com>  Tue, 30 Jun 2009 17:47:32 +0100

linux (2.6.31-1.13) karmic; urgency=low

  [ Andy Whitcroft ]

  * REBASE: rebased to mainline 2.6.31-rc1
    - "UBUNTU: SAUCE: UHCI USB quirk for resume"
      no longer applies, using deprecated interfaces, LPIA only, dropped
    - "UBUNTU: SAUCE: Mask off garbage in Dell WMI scan code data"
      changes now upstream, dropped
  * [Config] Update configs following rebase to 2.6.31-rc1
  * [Config] update ports configs following update to 2.6.31-rc1

  * [Config] disable broken staging driver CONFIG_STLC45XX
  * SAUCE: fix compcache to use updates accessors
  * [Config] disable staging driver CONFIG_VT6655
  * SAUCE: fix DRDB to use updates accessors
  * [Disable] ndiswrapper needs update
  * [Disable] LIRC I2C needs update
  * [Disable] CONFIG_LENOVO_SL_LAPTOP needs update
  * [Config] disable I2C_DESIGNWARE does not compile
  * [Config] disable CONFIG_TLSUP for lpia
  * [Config] disable CONFIG_FB_UDL for arm
  * SAUCE: disable adding scsi headers to linux-libc-dev

  [ Mario Limonciello ]

  * SAUCE: Add LIRC drivers

 -- Andy Whitcroft <apw@canonical.com>  Thu, 25 Jun 2009 12:06:22 +0100

linux (2.6.30-10.12) karmic; urgency=low

  [ Andy Whitcroft ]

  * [Config] split out the ports configs into their own family
  * [Config] update configs following introduction of ports family

  [ Upstream Kernel Changes ]

  * Revert "Rename linux-doc-PKGVER to linux-doc and clean up its
    description". Fixes linux-doc package name conflicts for now.
    - LP: #382115

 --  Tim Gardner <tim.gardner@canonical.com>  Mon, 22 Jun 2009 09:17:14 -0600

linux (2.6.30-10.11) karmic; urgency=low

  [ Amit Kucheria ]

  * [Config] Comment splitconfig.pl and misc cleanup
  * [Config] Rename all configs to the new naming scheme
  * [Config] Splitconfig rework
  * [Config] Rename scripts/misc/oldconfig to kernelconfig
  * [Config] Fix build system for new config split
  * [Config] Run updateconfigs after the splitconfig rework

  [ Andy Whitcroft ]

  * Revert "SAUCE: Default to i915.modeset=0 if CONFIG_DRM_I915_KMS=y"
  * [Config] standardise CONFIG_STAGING=y
  * [Config] standardise CONFIG_RD_LZMA=y
  * [Config] CONFIG_PCI_IOV=y
  * [Config] CONFIG_PCI_STUB=m
  * [Config] merge kernel configs more agressively

  [ Colin Watson ]

  * [Config] Run kernel-wedge in $(builddir) rather than at the top level
  * [Config] Add support for including firmware in udebs
  * [Config] Ship bnx2 firmware in nic-modules udeb
    - LP: #384861

  [ Luke Yelavich ]

  * [Config] ports - Import of ports architectures into kernel packaging
    infrastructure
  * [Config] ports - Do not update ports kernel configurations by default
  * [Config] ports - Disable ABI checking for ports architectures
  * [Config] ports - Build drivers in ubuntu sub-directory on powerpc
  * [Config] ports - Add control.d/vars.* files for ports architectures
  * [Config] ports - Add ports architectures for linux-libc-dev
  * [Config] ports - Create powerpc specific message-modules and
    block-modules udebs
  * [Config] ports - Add configuration files for ports architectures

  [ Manoj Iyer ]

  * [Config] Enable CONFIG_BLK_DEV_AEC62XX=m for amd64 and i386
    - LP: #329864

  [ Michael Casadevall ]

  * [Config] ports - Fix compression of kernels

  [ Stefan Bader ]

  * [Upstream] mmc: prevent dangling block device from accessing stale
    queues
    - LP: #383668

  [ Tim Gardner ]

  * [Config] Recommend grub-pc in linux-image
    - LP: #385741
  * [Config] Implement i386 generic and generic-pae flavours
  * [Config] ports - Add control info after integrating ports arches
  * [Config] Removed auto-generated files from git
  * [Config] Added netxen_nic to nic-modules
    - LP: #389603

  [ Matt Zimmerman ]

  * Rename linux-doc-PKGVER to linux-doc and clean up its description
    - LP: #382115

 --  Tim Gardner <tim.gardner@canonical.com>  Mon, 15 Jun 2009 14:38:26 -0600

linux (2.6.30-9.10) karmic; urgency=low

  [ Andy Whitcroft ]

  * [Config] CONFIG_SECURITY_TOMOYO=y (amd64, i386, lpia)
  * [Config] CONFIG_KEXEC_JUMP=y (amd64, lpia)
  * [Config] CONFIG_LENOVO_SL_LAPTOP=m (amd64, lpia)
  * [Config] CONFIG_POHMELFS_CRYPTO=y (i386, amd64)
  * [Config] CONFIG_SERIAL_MAX3100=m (i386, amd64, lpia)
  * [Config] CONFIG_VIDEO_GO7007=m (amd64, i386)

  [ Upstream Kernel Changes ]

  * rebased to 2.6.30 final

 -- Andy Whitcroft <apw@canonical.com>  Fri, 05 Jun 2009 11:42:53 +0100

linux (2.6.30-8.9) karmic; urgency=low

  [ Andy Whitcroft ]

  * Config update removed the following options:
        CONFIG_EDAC_AMD8111=m
        CONFIG_EDAC_AMD8131=m

  [ Upstream Kernel Changes ]

  * rebased to 2.6.30-rc8

 -- Andy Whitcroft <apw@canonical.com>  Wed, 03 Jun 2009 09:21:13 +0100

linux (2.6.30-7.8) karmic; urgency=low

  [ Andy Whitcroft ]

  * Enabled NEW configration options:
      Paravirtualization layer for spinlocks (PARAVIRT_SPINLOCKS) [N/y/?] Y
      Cisco FNIC Driver (FCOE_FNIC) [N/m/y/?] M

  [ Upstream Kernel Changes ]

  * rebased to 2.6.30-rc7

 -- Andy Whitcroft <apw@canonical.com>  Sat, 23 May 2009 23:47:24 +0100

linux (2.6.30-6.7) karmic; urgency=low

  [ Andy Whitcroft ]

  * Dropped: UBUNTU: SAUCE: input: Blacklist digitizers from joydev.c (now
    upstream)

  [ Upstream Kernel Changes ]

  * rebased to 2.6.30-rc6

 -- Andy Whitcroft <apw@canonical.com>  Mon, 18 May 2009 18:05:54 +0100

linux (2.6.30-5.6) karmic; urgency=low

  [ Tim Gardner ]

  * [Config] Enable Keyspan USB serial device firmware in kernel module
    - LP: #334285

  [ Upstream Kernel Changes ]

  * rebased to 2.6.30-rc5

 --  Tim Gardner <tim.gardner@canonical.com>  Mon, 11 May 2009 12:02:16 -0600

linux (2.6.30-4.5) karmic; urgency=low

  [ Colin Watson ]

  * Build-Conflict with findutils (= 4.4.1-1ubuntu1), to avoid
    /usr/include/asm/* going missing
    - LP: #373214

 -- Stefan Bader <stefan.bader@canonical.com>  Fri, 08 May 2009 11:09:08 +0200

linux (2.6.30-3.4) karmic; urgency=low

  [ Kees Cook ]

  * SAUCE: [x86] implement cs-limit nx-emulation for ia32
    - LP: #369978

  [ Stefan Bader ]

  * SAUCE: input: Blacklist digitizers from joydev.c
    - LP: #300143

 --  Tim Gardner <tim.gardner@canonical.com>  Fri, 01 May 2009 14:00:42 -0600

linux (2.6.30-2.3) karmic; urgency=low

  [ Tim Gardner ]

  * [Config] Enabled CC_STACKPROTECTOR=y for all x86en
    - LP: #369152
  * SAUCE: Default to i915_modeset=0 if CONFIG_DRM_I915_KMS=y
  * [Config] CONFIG_DRM_I915_KMS=y
  * [Config] Set CONFIG_SECURITY_DEFAULT_MMAP_MIN_ADDR to appropriate ARCH
    minimums

  [ Upstream Kernel Changes ]

  * rebased to 2.6.30-rc4

 --  Tim Gardner <tim.gardner@canonical.com>  Thu, 30 Apr 2009 09:17:05 -0600

linux (2.6.30-1.2) karmic; urgency=low

  [ Tim Gardner ]

  * [Config] armel: disable staging drivers, fixes FTBS
  * [Config] armel imx51: Disable CONFIG_MTD_NAND_MXC, fixes FTBS

  [ Upstream Kernel Changes ]

  * mpt2sas: Change reset_type enum to avoid namespace collision.
    Submitted upstream.

 --  Tim Gardner <tim.gardner@canonical.com>  Tue, 28 Apr 2009 16:54:41 -0600

linux (2.6.30-1.1) karmic; urgency=low

  * Initial release after rebasing against v2.6.30-rc3

 --  Tim Gardner <tim.gardner@canonical.com>  Thu, 12 Mar 2009 19:16:07 -0600
